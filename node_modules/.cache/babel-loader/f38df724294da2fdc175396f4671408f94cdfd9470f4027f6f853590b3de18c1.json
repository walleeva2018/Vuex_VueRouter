{"ast":null,"code":"import _regeneratorRuntime from \"/home/user/Zubair/Project/Vuex-router/Vuex_VueRouter/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _createForOfIteratorHelper from \"/home/user/Zubair/Project/Vuex-router/Vuex_VueRouter/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _asyncToGenerator from \"/home/user/Zubair/Project/Vuex-router/Vuex_VueRouter/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.object.define-property.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport { ref } from \"vue\";\nimport axios from \"axios\";\nimport { useStore } from \"vuex\";\nexport default {\n  __name: 'CommentVIew',\n  setup: function setup(__props, _ref) {\n    var __expose = _ref.expose;\n    __expose();\n    var store = useStore();\n    var ids = ref(store.getters.getComments);\n    var apiResults = ref([]);\n    var loading = ref(true);\n    var error = ref(null);\n    function fetchCurrentPageData() {\n      return _fetchCurrentPageData.apply(this, arguments);\n    }\n    function _fetchCurrentPageData() {\n      _fetchCurrentPageData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var requests, responses, _iterator, _step, obj;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              requests = ids.value.map(function (id) {\n                return axios.get(\"https://hacker-news.firebaseio.com/v0/item/\".concat(id, \".json?print=pretty\"));\n              });\n              _context.next = 4;\n              return Promise.all(requests);\n            case 4:\n              responses = _context.sent;\n              apiResults.value = responses.map(function (response) {\n                return response.data;\n              });\n              _iterator = _createForOfIteratorHelper(apiResults.value);\n              try {\n                for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                  obj = _step.value;\n                  obj.comment = false;\n                }\n              } catch (err) {\n                _iterator.e(err);\n              } finally {\n                _iterator.f();\n              }\n              loading.value = false;\n              _context.next = 15;\n              break;\n            case 11:\n              _context.prev = 11;\n              _context.t0 = _context[\"catch\"](0);\n              error.value = _context.t0.message;\n              loading.value = false;\n            case 15:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[0, 11]]);\n      }));\n      return _fetchCurrentPageData.apply(this, arguments);\n    }\n    fetchCurrentPageData();\n    function updateComment(result) {\n      {\n        {\n          store.commit(\"setComments\", result.kids);\n        }\n      }\n      result.comment = !result.comment;\n    }\n    var __returned__ = {\n      store: store,\n      ids: ids,\n      apiResults: apiResults,\n      loading: loading,\n      error: error,\n      fetchCurrentPageData: fetchCurrentPageData,\n      updateComment: updateComment,\n      ref: ref,\n      get axios() {\n        return axios;\n      },\n      get useStore() {\n        return useStore;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","axios","useStore","store","ids","getters","getComments","apiResults","loading","error","fetchCurrentPageData","_fetchCurrentPageData","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","requests","responses","_iterator","_step","obj","wrap","_callee$","_context","prev","next","value","map","id","get","concat","Promise","all","sent","response","data","_createForOfIteratorHelper","s","n","done","comment","err","e","f","t0","message","stop","updateComment","result","commit","kids"],"sources":["/home/user/Zubair/Project/Vuex-router/Vuex_VueRouter/src/components/CommentVIew.vue"],"sourcesContent":["<template>\n  <div v-if=\"loading\">Loading...</div>\n  <div v-else-if=\"error\">Error occurred: {{ error }}</div>\n  <div v-else class=\"banner-container\">\n    <ul class=\"banner-list\">\n      <li v-for=\"result in apiResults\" :key=\"result\" class=\"banner-item\">\n        <B> By {{ result.by }} :</B><span v-html=\"result.text\"> </span>\n        <div v-if=\"result.kids\">\n          <div @click=\"updateComment(result)\">\n            <span v-if=\"result.comment == false\" class=\"clickable-area\"\n              >{{ Object.keys(result.kids).length }} Replies\n            </span>\n            <span v-else class=\"clickable-area\"> Hide Replies </span>\n          </div>\n          <div v-if=\"result.comment == true\"><CommentVIew /></div>\n        </div>\n      </li>\n    </ul>\n  </div>\n</template>\n<script setup>\nimport { ref } from \"vue\";\nimport axios from \"axios\";\nimport { useStore } from \"vuex\";\nconst store = useStore();\nconst ids = ref(store.getters.getComments);\nconst apiResults = ref([]);\nconst loading = ref(true);\nconst error = ref(null);\n\nasync function fetchCurrentPageData() {\n  try {\n    const requests = ids.value.map((id) =>\n      axios.get(\n        `https://hacker-news.firebaseio.com/v0/item/${id}.json?print=pretty`\n      )\n    );\n\n    const responses = await Promise.all(requests);\n\n    apiResults.value = responses.map((response) => response.data);\n    for (const obj of apiResults.value) {\n      obj.comment = false;\n    }\n\n    loading.value = false;\n  } catch (err) {\n    error.value = err.message;\n    loading.value = false;\n  }\n}\nfetchCurrentPageData();\nfunction updateComment(result) {\n  {\n    {\n      store.commit(\"setComments\", result.kids);\n    }\n  }\n  result.comment = !result.comment;\n}\n</script>\n\n<style scoped>\n.banner-container {\n  background-color: grey;\n  padding: 20px;\n  justify-content: center;\n  align-items: center;\n}\n\n.banner-list {\n  list-style: none;\n  padding: 0;\n  margin: 0;\n}\n\n.banner-item {\n  background-color: rgb(255, 207, 119);\n  border-radius: 4px;\n  padding: 10px;\n  margin: 5px;\n  color: black;\n}\n.clickable-area {\n  cursor: pointer;\n  color: blue;\n}\n</style>\n"],"mappings":";;;;;;;;AAqBA,SAASA,GAAG,QAAQ,KAAK;AACzB,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,QAAQ,MAAM;;;;;;IAC/B,IAAMC,KAAK,GAAGD,QAAQ,CAAC,CAAC;IACxB,IAAME,GAAG,GAAGJ,GAAG,CAACG,KAAK,CAACE,OAAO,CAACC,WAAW,CAAC;IAC1C,IAAMC,UAAU,GAAGP,GAAG,CAAC,EAAE,CAAC;IAC1B,IAAMQ,OAAO,GAAGR,GAAG,CAAC,IAAI,CAAC;IACzB,IAAMS,KAAK,GAAGT,GAAG,CAAC,IAAI,CAAC;IAAC,SAETU,oBAAoBA,CAAA;MAAA,OAAAC,qBAAA,CAAAC,KAAA,OAAAC,SAAA;IAAA;IAAA,SAAAF,sBAAA;MAAAA,qBAAA,GAAAG,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAnC,SAAAC,QAAA;QAAA,IAAAC,QAAA,EAAAC,SAAA,EAAAC,SAAA,EAAAC,KAAA,EAAAC,GAAA;QAAA,OAAAP,mBAAA,GAAAQ,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAEUR,QAAQ,GAAGd,GAAG,CAACwB,KAAK,CAACC,GAAG,CAAC,UAACC,EAAE;gBAAA,OAChC7B,KAAK,CAAC8B,GAAG,+CAAAC,MAAA,CACuCF,EAAE,uBAClD,CAAC;cAAA,CACH,CAAC;cAAAL,QAAA,CAAAE,IAAA;cAAA,OAEuBM,OAAO,CAACC,GAAG,CAAChB,QAAQ,CAAC;YAAA;cAAvCC,SAAS,GAAAM,QAAA,CAAAU,IAAA;cAEf5B,UAAU,CAACqB,KAAK,GAAGT,SAAS,CAACU,GAAG,CAAC,UAACO,QAAQ;gBAAA,OAAKA,QAAQ,CAACC,IAAI;cAAA,EAAC;cAACjB,SAAA,GAAAkB,0BAAA,CAC5C/B,UAAU,CAACqB,KAAK;cAAA;gBAAlC,KAAAR,SAAA,CAAAmB,CAAA,MAAAlB,KAAA,GAAAD,SAAA,CAAAoB,CAAA,IAAAC,IAAA,GAAoC;kBAAzBnB,GAAG,GAAAD,KAAA,CAAAO,KAAA;kBACZN,GAAG,CAACoB,OAAO,GAAG,KAAK;gBACrB;cAAC,SAAAC,GAAA;gBAAAvB,SAAA,CAAAwB,CAAA,CAAAD,GAAA;cAAA;gBAAAvB,SAAA,CAAAyB,CAAA;cAAA;cAEDrC,OAAO,CAACoB,KAAK,GAAG,KAAK;cAACH,QAAA,CAAAE,IAAA;cAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAqB,EAAA,GAAArB,QAAA;cAEtBhB,KAAK,CAACmB,KAAK,GAAGH,QAAA,CAAAqB,EAAA,CAAIC,OAAO;cACzBvC,OAAO,CAACoB,KAAK,GAAG,KAAK;YAAC;YAAA;cAAA,OAAAH,QAAA,CAAAuB,IAAA;UAAA;QAAA,GAAA/B,OAAA;MAAA,CAEzB;MAAA,OAAAN,qBAAA,CAAAC,KAAA,OAAAC,SAAA;IAAA;IACDH,oBAAoB,CAAC,CAAC;IACtB,SAASuC,aAAaA,CAACC,MAAM,EAAE;MAC7B;QACE;UACE/C,KAAK,CAACgD,MAAM,CAAC,aAAa,EAAED,MAAM,CAACE,IAAI,CAAC;QAC1C;MACF;MACAF,MAAM,CAACR,OAAO,GAAG,CAACQ,MAAM,CAACR,OAAO;IAClC"},"metadata":{},"sourceType":"module","externalDependencies":[]}